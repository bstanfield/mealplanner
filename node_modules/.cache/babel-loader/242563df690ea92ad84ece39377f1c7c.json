{"ast":null,"code":"import _classCallCheck from \"/Users/zakkary/Desktop/mealplanner/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/zakkary/Desktop/mealplanner/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/zakkary/Desktop/mealplanner/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/zakkary/Desktop/mealplanner/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/zakkary/Desktop/mealplanner/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/zakkary/Desktop/mealplanner/src/components/Personas.js\";\nimport React, { Component } from 'react';\nimport * as R from 'ramda';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { SetPersonas } from '../actions';\nimport { Redirect } from 'react-router-dom';\n\nvar Personas =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Personas, _Component);\n\n  function Personas(props) {\n    var _this;\n\n    _classCallCheck(this, Personas);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Personas).call(this, props));\n\n    _this.renderPersonas = function (persona) {\n      return React.createElement(\"a\", {\n        className: \"link-nostyle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"persona\",\n        onClick: function onClick() {\n          return _this.setRedirect(persona);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }, persona.persona), React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, R.map(function (x) {\n        return React.createElement(\"li\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 36\n          },\n          __self: this\n        }, x);\n      }, persona.chars))));\n    };\n\n    _this.state = {\n      redirect: false,\n      error: '',\n      selectedPersona: ''\n    };\n    return _this;\n  }\n\n  _createClass(Personas, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      fetch(\"https://api.foodwise.dev/personas\", {\n        method: 'GET',\n        mode: 'cors'\n      }).then(function (response) {\n        return response.json();\n      }).then(function (personas) {\n        return _this2.props.SetPersonas(personas);\n      }).catch(function (error) {\n        return _this2.setState({\n          error: error\n        });\n      });\n    }\n  }, {\n    key: \"setRedirect\",\n    value: function setRedirect(persona) {\n      this.setState({\n        selectedPersona: persona.id,\n        redirect: true\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var personas = this.props.personas;\n\n      if (this.state.error) {\n        return React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50\n          },\n          __self: this\n        }, this.state.error.message);\n      }\n\n      if (this.state.redirect) {\n        return React.createElement(Redirect, {\n          to: {\n            pathname: '/surprise',\n            search: \"?source=preset&persona=\".concat(this.state.selectedPersona)\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(\"div\", {\n        className: \"persona-page\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"Choose a foodie type\"), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \"We will recommend recipes based on the traits of the persona you choose!\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"persona-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, R.map(this.renderPersonas, personas)));\n    }\n  }]);\n\n  return Personas;\n}(Component);\n\nfunction mapStatetoProps(state) {\n  return {\n    personas: state.personas\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    SetPersonas: SetPersonas\n  }, dispatch);\n}\n\nexport default connect(mapStatetoProps, mapDispatchToProps)(Personas);","map":{"version":3,"sources":["/Users/zakkary/Desktop/mealplanner/src/components/Personas.js"],"names":["React","Component","R","FontAwesomeIcon","connect","bindActionCreators","SetPersonas","Redirect","Personas","props","renderPersonas","persona","setRedirect","map","x","chars","state","redirect","error","selectedPersona","fetch","method","mode","then","response","json","personas","catch","setState","id","message","pathname","search","mapStatetoProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport * as R from 'ramda';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { SetPersonas } from '../actions';\nimport { Redirect } from 'react-router-dom';\n\nclass Personas extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      redirect: false,\n      error: '',\n      selectedPersona:'',\n    };\n  }\n\n  componentDidMount() {\n    fetch(\n      `https://api.foodwise.dev/personas`,\n      {\n        method: 'GET',\n        mode: 'cors',\n      }, \n    ).then(response => response.json())\n    .then(personas => this.props.SetPersonas(personas))\n    .catch(error => this.setState({ error }));\n  }\n\n  renderPersonas = (persona) => (\n    <a className=\"link-nostyle\">\n      <div className=\"persona\" onClick={() => this.setRedirect(persona)}>\n        <h2>{persona.persona}</h2>\n        <ul>\n          {R.map(x => <li>{x}</li>, persona.chars)}\n        </ul>\n      </div>\n    </a>\n  )\n  \n  setRedirect(persona){\n    this.setState({ selectedPersona: persona.id, redirect: true });\n  }\n\n  render() {\n    const { personas } = this.props;\n\n    if (this.state.error) {\n      return <p>{this.state.error.message}</p>;\n    }\n\n    if (this.state.redirect) {\n      return (\n        <Redirect to={{\n          pathname: '/surprise',\n          search: `?source=preset&persona=${this.state.selectedPersona}`\n        }} />\n      );\n    }\n\n\n    return(\n      <div className=\"persona-page\">\n        <h1>Choose a foodie type</h1>\n        <h2>We will recommend recipes based on the traits of the persona you choose!</h2>\n        <br/>\n        <br/>\n        <div className=\"persona-container\">\n          {R.map(this.renderPersonas, personas)}\n        </div>\n      </div>\n    )\n  }\n}\n\nfunction mapStatetoProps(state) {\n  return {\n    personas: state.personas,\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators({ SetPersonas }, dispatch);\n}\n\nexport default connect(mapStatetoProps, mapDispatchToProps)(Personas);\n"]},"metadata":{},"sourceType":"module"}